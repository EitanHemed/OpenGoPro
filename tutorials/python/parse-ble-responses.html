<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Python Tutorial 3: Parse BLE TLV Responses :  Open GoPro</title>
<meta name="description" content="This document will provide a walk-through tutorial to use bleak to implement the Open GoPro Interface to parse BLE Type-Length-Value (TLV) Responses.">


  <meta name="author" content="GoPro">
  
  <meta property="article:author" content="GoPro">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Open GoPro">
<meta property="og:title" content="Python Tutorial 3: Parse BLE TLV Responses">
<meta property="og:url" content="https://gopro.github.io/OpenGoPro/tutorials/python/parse-ble-responses">


  <meta property="og:description" content="This document will provide a walk-through tutorial to use bleak to implement the Open GoPro Interface to parse BLE Type-Length-Value (TLV) Responses.">







  <meta property="article:published_time" content="2022-12-17T00:15:56+00:00">






<link rel="canonical" href="https://gopro.github.io/OpenGoPro/tutorials/python/parse-ble-responses">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "GoPro",
      "url": "https://gopro.github.io/OpenGoPro/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/OpenGoPro/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/OpenGoPro/assets/js/tabs.js"></script>
  
    <script src="/OpenGoPro/assets/js/quiz.js"></script>
  
    <script src="/OpenGoPro/assets/js/accordion.js"></script>
  


    <link rel="apple-touch-icon" sizes="180x180" href="/OpenGoPro/assets/images/logos/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/OpenGoPro/assets/images/logos/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/OpenGoPro/assets/images/logos/favicon-16x16.png">
<link rel="manifest" href="/OpenGoPro/assets/images/logos/site.webmanifest">
<link rel="mask-icon" href="/OpenGoPro/assets/images/logos/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/OpenGoPro/assets/images/logos/favicon.ico">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="msapplication-config" content="/assets/images/logos/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/OpenGoPro/"><img src="/OpenGoPro/assets/images/logos/logo.png" alt="Open GoPro"></a>
        
        <a class="site-title" href="/OpenGoPro/">
          Open GoPro
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/OpenGoPro/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/ble">BLE Spec</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/http">HTTP Spec</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/tutorials">Tutorials</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/demos">Demos</a>
            </li>
<li class="masthead__menu-item">
              <a href="/OpenGoPro/faq">FAQ</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://gopro.github.io/OpenGoPro/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/OpenGoPro/python" itemprop="item"><span itemprop="name">Python</span></a>
          <meta itemprop="position" content="3">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Python Tutorial 3: Parse BLE TLV Responses</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/OpenGoPro/assets/images/logos/logo_square.png" alt="GoPro" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">GoPro</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Be a <strong>hero</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">US</span>
        </li>
      

      
        
          
            <li><a href="https://www.gopro.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://github.com/gopro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/connect-ble"><span class="nav__sub-title">1: Connect BLE</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/send-ble-commands"><span class="nav__sub-title">2: Send BLE Commands</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/parse-ble-responses"><span class="nav__sub-title">3: Parse BLE TLV Responses</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/ble-queries"><span class="nav__sub-title">4: BLE Queries</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/connect-wifi"><span class="nav__sub-title">5: Connect WiFi</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/send-wifi-commands"><span class="nav__sub-title">6: Send WiFi Commands</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/OpenGoPro/tutorials/python/camera-media-list"><span class="nav__sub-title">7: Camera Media List</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Python Tutorial 3: Parse BLE TLV Responses">
    <meta itemprop="description" content="This document will provide a walk-through tutorial to use bleak to implementthe Open GoPro Interface to parse BLEType-Length-Value (TLV) Responses.">
    <meta itemprop="datePublished" content="2022-12-17T00:15:56+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Python Tutorial 3: Parse BLE TLV Responses
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          13 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
<li><a href="#requirements">Requirements</a></li>
<li><a href="#just-show-me-the-demos">Just Show me the Demo(s)!!</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#response-overview">Response Overview</a></li>
<li>
<a href="#parsing-a-one-packet-tlv-response">Parsing a One Packet TLV Response</a><ul>
<li><a href="#command--setting-responses-with-response-length-0">Command / Setting Responses with Response Length 0</a></li>
<li><a href="#complex-command-response">Complex Command Response</a></li>
</ul>
</li>
<li>
<a href="#parsing-multiple-packet-tlv-responses">Parsing Multiple Packet TLV Responses</a><ul>
<li><a href="#accumulating-the-response">Accumulating the Response</a></li>
<li><a href="#query-responses">Query Responses</a></li>
</ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#good-job">Good Job!</a></li>
</ul>

            </nav>
          </aside>
        
        <p>This document will provide a walk-through tutorial to use <a href="https://pypi.org/project/bleak/">bleak</a> to implement
the <a href="/OpenGoPro/ble_2_0">Open GoPro Interface</a> to parse BLE
<a href="https://en.wikipedia.org/wiki/Type-length-value">Type-Length-Value</a> (TLV) Responses.</p>

<p>Besides TLV, some BLE commands instead return protobuf responses. These will be discussed in a future
tutorial.</p>

<div class="callout warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142; margin: 0.25em;"></i><span>It is required that you have first completed the
<a href="/OpenGoPro/tutorials/python/connect-ble#requirements">connect</a>
and <a href="/OpenGoPro/tutorials/python/send-ble-commands">sending commands</a> tutorials before going
through this tutorial.</span>
</div>

<p>This tutorial will give an overview of types of responses, then give examples of parsing each type
before finally providing a <strong>Response</strong> class that will be used in future tutorials.</p>

<h1 id="requirements">Requirements</h1>

<p>It is assumed that the hardware and software requirements from the
<a href="/OpenGoPro/tutorials/python/connect-ble">connect tutorial</a>
are present and configured correctly.</p>

<p>The scripts that will be used for this tutorial can be found in the
<a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/tutorial/tutorial_modules/tutorial_3_parse_ble_tlv_responses">Tutorial 3 Folder</a>.</p>

<h1 id="just-show-me-the-demos">Just Show me the Demo(s)!!</h1>
<p>If you just want to run the demo, you can find Python scripts for each of the concepts in this tutorial in the <a href="https://github.com/gopro/OpenGoPro">Open GoPro GitHub repo</a>.</p>

<div class="callout warning">
<i class="fa fa-exclamation-triangle fa-2x" style="color: #df5142; margin: 0.25em;"></i><span>Python &gt;= 3.8.x must be used as specified in the requirements</span>
</div>

<div class="callout note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db; margin: 0.25em;"></i><span>Each of the scripts for this tutorial can be found in this directory of the repo: 
<code class="language-plaintext highlighter-rouge">demos/python/tutorial/tutorial_modules/tutorial_3_parse_ble_tlv_responses/</code></span>
</div>

<div class="accordion-container">
    <button class="accordion">Parsing a One Packet TLV Response<i class="fa fa-chevron-down"></i></button>
    <div class="panel">
<p>You can test parsing a one packet TLV response with your camera through BLE using the following script:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python ble_command_get_version.py
</code></pre></div></div>

<p>See the help for parameter definitions:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python ble_command_get_version.py <span class="nt">--help</span>
<span class="go">usage: ble_command_get_version.py [-h] [-i IDENTIFIER]

Connect to a GoPro camera via BLE, then get the Open GoPro version.

optional arguments:
  -h, --help            show this help message and exit
  -i IDENTIFIER, --identifier IDENTIFIER
                        Last 4 digits of GoPro serial number, which is the last 4 digits of the
                        default camera SSID. If not used, first discovered GoPro will be connected to
</span></code></pre></div></div>
</div>
</div>

<div class="accordion-container">
    <button class="accordion">Parsing Multiple Packet TLV Responses<i class="fa fa-chevron-down"></i></button>
    <div class="panel">
<p>You can test parsing multiple packet TVL responses with your camera through BLE using the following script:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python ble_command_get_state.py
</code></pre></div></div>

<p>See the help for parameter definitions:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>python ble_command_get_state.py <span class="nt">--help</span>
<span class="go">usage: ble_command_get_state.py [-h] [-i IDENTIFIER]

Connect to a GoPro camera via BLE, then get its statuses and settings.

optional arguments:
  -h, --help            show this help message and exit
  -i IDENTIFIER, --identifier IDENTIFIER
                        Last 4 digits of GoPro serial number, which is the last 4 digits of the
                        default camera SSID. If not used, first discovered GoPro will be connected to
</span></code></pre></div></div>
</div>
</div>

<h1 id="setup">Setup</h1>

<p>We must first connect as was discussed in the
<a href="/OpenGoPro/tutorials/python/connect-ble">connect tutorial</a>. When enabling notifications,
one of the notification handlers described in the following sections will be used.</p>

<h1 id="response-overview">Response Overview</h1>

<p>In the preceding tutorials, we have been using a very simple response handling procedure where the notification
handler simply checks that the UUID is the expected UUID and that the status byte of the response is 0 (Success).
This has been fine since we were only sending specific commands where this works and we know that the sequence
always appears as such (connection sequence left out for brevity):</p>

<svg class="mermaid" aria-labelledby="chart-title-mermaid-svg chart-desc-mermaid-svg" role="img" viewbox="-50 -10 600 307" style="max-width: 600px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg"><title id="chart-title-mermaid-svg"></title>
<desc id="chart-desc-mermaid-svg"></desc><style>#mermaid-svg {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-svg .actor-line{stroke:grey;}#mermaid-svg .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg .sequenceNumber{fill:white;}#mermaid-svg #sequencenumber{fill:#333;}#mermaid-svg #crosshead path{fill:#333;stroke:#333;}#mermaid-svg .messageText{fill:#333;stroke:none;}#mermaid-svg .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg .labelText,#mermaid-svg .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .loopText,#mermaid-svg .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-svg .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-svg .noteText,#mermaid-svg .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg .actorPopupMenu{position:absolute;}#mermaid-svg .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-svg .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg .actor-man circle,#mermaid-svg line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><g><line stroke="#999" stroke-width="0.5px" class="200" y2="241" x2="87" y1="5" x1="87" id="actor0"></line><g id="root-0"><rect class="actor" ry="3" rx="3" height="65" width="174" stroke="#666" fill="#eaeaea" y="0" x="0"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="87"><tspan dy="0" x="87">Open GoPro user device</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="241" x2="425" y1="5" x1="425" id="actor1"></line><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="350"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="425"><tspan dy="0" x="425">GoPro</tspan></text></g></g><defs><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refy="4" refx="16" orient="auto" markerheight="8" markerwidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 9,2 V 6 L16,4 Z" stroke-width="1px" stroke="#000000" fill="black"></path><path style="stroke-dasharray: 0, 0;" d="M 0,1 L 6,7 M 6,1 L 0,7" stroke-width="1px" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerheight="28" markerwidth="20" refy="7" refx="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerheight="40" markerwidth="60" refy="15" refx="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><rect class="note" ry="0" rx="0" height="36" width="388" stroke="#666" fill="#EDF2AE" y="75" x="62"></rect><text style="font-size: 14px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="256"><tspan x="256">devices are connected as in Tutorial 1</tspan></text></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="126" x="256">Write to characteristic</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="155" x2="425" y1="155" x1="87"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="170" x="256">Notification Response (MSB == 0 (start))</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="201" x2="87" y1="201" x1="425"></line><g><rect class="actor" ry="3" rx="3" height="65" width="174" stroke="#666" fill="#eaeaea" y="221" x="0"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="253.5" x="87"><tspan dy="0" x="87">Open GoPro user device</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="221" x="350"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="253.5" x="425"><tspan dy="0" x="425">GoPro</tspan></text></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css");</style></svg>

<p>In actuality, responses can be more complicated. As described in the
<a href="/OpenGoPro/ble_2_0#packet-headers">Open GoPro Interface</a>, responses can be
be comprised of multiple packets where each packet is &lt;= 20 bytes such as:</p>

<svg class="mermaid" aria-labelledby="chart-title-mermaid-svg chart-desc-mermaid-svg" role="img" viewbox="-50 -10 653 445" style="max-width: 653px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg"><title id="chart-title-mermaid-svg"></title>
<desc id="chart-desc-mermaid-svg"></desc><style>#mermaid-svg {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-svg .actor-line{stroke:grey;}#mermaid-svg .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg .sequenceNumber{fill:white;}#mermaid-svg #sequencenumber{fill:#333;}#mermaid-svg #crosshead path{fill:#333;stroke:#333;}#mermaid-svg .messageText{fill:#333;stroke:none;}#mermaid-svg .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg .labelText,#mermaid-svg .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .loopText,#mermaid-svg .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-svg .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-svg .noteText,#mermaid-svg .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-svg .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg .actorPopupMenu{position:absolute;}#mermaid-svg .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-svg .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-svg .actor-man circle,#mermaid-svg line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><g><line stroke="#999" stroke-width="0.5px" class="200" y2="379" x2="87" y1="5" x1="87" id="actor0"></line><g id="root-0"><rect class="actor" ry="3" rx="3" height="65" width="174" stroke="#666" fill="#eaeaea" y="0" x="0"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="87"><tspan dy="0" x="87">Open GoPro user device</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="379" x2="478" y1="5" x1="478" id="actor1"></line><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="403"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="478"><tspan dy="0" x="478">GoPro</tspan></text></g></g><defs><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refy="4" refx="16" orient="auto" markerheight="8" markerwidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 9,2 V 6 L16,4 Z" stroke-width="1px" stroke="#000000" fill="black"></path><path style="stroke-dasharray: 0, 0;" d="M 0,1 L 6,7 M 6,1 L 0,7" stroke-width="1px" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerheight="28" markerwidth="20" refy="7" refx="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerheight="40" markerwidth="60" refy="15" refx="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><rect class="note" ry="0" rx="0" height="36" width="441" stroke="#666" fill="#EDF2AE" y="75" x="62"></rect><text style="font-size: 14px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="283"><tspan x="283">devices are connected as in Tutorial 1</tspan></text></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="126" x="283">Write to characteristic</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="155" x2="478" y1="155" x1="87"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="170" x="283">Notification Response (MSB == 0 (start))</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="201" x2="87" y1="201" x1="478"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="216" x="283">Notification Response (MSB == 1 (continuation))</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="247" x2="87" y1="247" x1="478"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="262" x="283">Notification Response (MSB == 1 (continuation))</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="293" x2="87" y1="293" x1="478"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="308" x="283">Notification Response (MSB == 1 (continuation))</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="339" x2="87" y1="339" x1="478"></line><g><rect class="actor" ry="3" rx="3" height="65" width="174" stroke="#666" fill="#eaeaea" y="359" x="0"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="391.5" x="87"><tspan dy="0" x="87">Open GoPro user device</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="359" x="403"></rect><text style="text-anchor: middle; font-size: 14px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="391.5" x="478"><tspan dy="0" x="478">GoPro</tspan></text></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css");</style></svg>

<p>This requires the implementation of accumulating and parsing algorithms which will be described in
[Parsing Multiple Packet TLV Responses].</p>

<h1 id="parsing-a-one-packet-tlv-response">Parsing a One Packet TLV Response</h1>

<p>This section will describe how to parse one packet (&lt;= 20 byte) responses. A one-packet response
is formatted as such:</p>

<table>
  <thead>
    <tr>
      <th>Header (length)</th>
      <th>Command / Setting ID</th>
      <th>Status</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>1 bytes</td>
      <td>Length - 2 bytes</td>
    </tr>
  </tbody>
</table>

<h2 id="command--setting-responses-with-response-length-0">Command / Setting Responses with Response Length 0</h2>

<p>These are the only responses that we have seen thus far through the first 2 tutorials. They
return a status but have a 0 length additional response. For example, consider
<a href="/OpenGoPro/tutorials/python/send-ble-commands#set-shutter">Set Shutter</a>. It returned a response
of:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>02:01:00
</code></pre></div></div>

<p>This equates to:</p>

<table>
  <thead>
    <tr>
      <th>Header (length)</th>
      <th>Command / Setting / Status ID</th>
      <th>Status</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>1 bytes</td>
      <td>Length - 2 bytes</td>
    </tr>
    <tr>
      <td>0x02</td>
      <td>0x01 == Set Shutter</td>
      <td>0x00 == Success</td>
      <td>(2 -2 = 0 bytes)</td>
    </tr>
  </tbody>
</table>

<p>We can see how this response includes the status but no additional response data. This type of
response will be used for most Commands and Setting Responses as seen in the
<a href="/OpenGoPro/tutorials/python/send-ble-commands">previous tutorial</a>.</p>

<h2 id="complex-command-response">Complex Command Response</h2>

<p>There are some commands that do return additional response data. These are called “complex responses.”
From the <a href="/OpenGoPro/ble_2_0#commands-quick-reference">commands reference</a>, we can see that these are:</p>

<ul>
  <li>Get Open GoPro Version (ID == 0x51)</li>
  <li>Get Hardware Info (ID == 0x3C)</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">ble_command_get_version.py</code> script demonstrates a simple parser for the Open GoPro
Get Version command which we will walk through here.</p>

<div class="callout tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c; margin: 0.25em;"></i><span>It is important to always query the version after connecting in order to know which API is supported.
See the relevant version of the BLE and / or WiFi spec for more details about each version.</span>
</div>

<p>First, we send the command to the Command Request <a href="/OpenGoPro/ble_2_0#services-and-characteristics">UUID</a>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">COMMAND_REQ_UUID</span> <span class="o">=</span> <span class="n">GOPRO_BASE_UUID</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="s">"0072"</span><span class="p">)</span>
<span class="n">event</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
<span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">write_gatt_char</span><span class="p">(</span><span class="n">COMMAND_REQ_UUID</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x51</span><span class="p">]))</span>
<span class="k">await</span> <span class="n">event</span><span class="p">.</span><span class="n">wait</span><span class="p">()</span>  <span class="c1"># Wait to receive the notification response
</span></code></pre></div></div>

<div class="callout note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db; margin: 0.25em;"></i><span>The snippets of code included in this section are taken from the <code class="language-plaintext highlighter-rouge">notification handler</code></span>
</div>

<p>We then receive a response at the expected handle. This is logged as:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:Getting the Open GoPro version...
INFO:root:Received response at handle=52: b'06:51:00:01:01:01:00'
</span></code></pre></div></div>

<p>This equates to:</p>

<table>
  <thead>
    <tr>
      <th>Header (length)</th>
      <th>Command / Setting / Status ID</th>
      <th>Status</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>1 bytes</td>
      <td>Length - 2 bytes</td>
    </tr>
    <tr>
      <td>0x06</td>
      <td>0x51 == Get Version</td>
      <td>0x00 == Success</td>
      <td>0x01 0x01 0x01 0x00</td>
    </tr>
  </tbody>
</table>

<p>We can see that this “complex response” contains 4 additional bytes that need to be parsed. Using the information
from the <a href="/OpenGoPro/ble_2_0#complex-command-responses">interface description</a>,
we know to parse this as:</p>

<table>
  <thead>
    <tr>
      <th>Byte</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x01</td>
      <td>Length of Major Version Number</td>
    </tr>
    <tr>
      <td>0x01</td>
      <td>Major Version Number</td>
    </tr>
    <tr>
      <td>0x01</td>
      <td>Length of Minor Version Number</td>
    </tr>
    <tr>
      <td>0x00</td>
      <td>Minor Version Number</td>
    </tr>
  </tbody>
</table>

<p>We implement this in the notification handler as follows. First, we parse the length, command ID, and status
from the first 3 bytes of the response:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">command_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<p>Next we parse the remaining four bytes of the response as individual values formatted as such:</p>

<table>
  <thead>
    <tr>
      <th>Length</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 byte</td>
      <td>Length bytes</td>
    </tr>
  </tbody>
</table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">index</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">:</span>
    <span class="n">param_len</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">params</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">index</span> <span class="p">:</span> <span class="n">index</span> <span class="o">+</span> <span class="n">param_len</span><span class="p">])</span>
    <span class="n">index</span> <span class="o">+=</span> <span class="n">param_len</span>
</code></pre></div></div>

<p>From the complex response definition, we know these parameters equate to the major and the minor version so
let’s print them (and all of the other response information) as such:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">major</span><span class="p">,</span> <span class="n">minor</span> <span class="o">=</span> <span class="n">params</span>
<span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Received a response to </span><span class="si">{</span><span class="n">command_id</span><span class="o">=</span><span class="si">}</span><span class="s"> with </span><span class="si">{</span><span class="n">status</span><span class="o">=</span><span class="si">}</span><span class="s">: version=</span><span class="si">{</span><span class="n">major</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">minor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>which shows on the log as:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:Received a response to command_id=81 with status=0: version=1.0
</span></code></pre></div></div>

<p><strong>Quiz time! 📚 ✏️</strong></p>

<div id="quiz_181bd418-b1bc-4551-802a-c61612355265" class="quiz">
    <div>
        <div id="question_181bd418-b1bc-4551-802a-c61612355265" class="quiz__question">What is the maximum size of an individual notification response packet?</div>
        <div id="answers_181bd418-b1bc-4551-802a-c61612355265">
        
            <input type="radio" name="question" value="A"><label>A: 20 bytes</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: 256 bytes</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: There is no maximum size</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('181bd418-b1bc-4551-802a-c61612355265', 'A')">Submit Answer</button>
    <div id="results_181bd418-b1bc-4551-802a-c61612355265" style="display: none">
        <span id="correct_181bd418-b1bc-4551-802a-c61612355265" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_181bd418-b1bc-4551-802a-c61612355265" style="display: none"> Incorrect!! 😭 The correct answer is A.</span>
        Responses can be composed of multiple packets where each packet is at
    maximum 20 bytes.
    </div>
</div>

<div id="quiz_9c0484a0-12a1-4c76-8474-dc1ebc5ec027" class="quiz">
    <div>
        <div id="question_9c0484a0-12a1-4c76-8474-dc1ebc5ec027" class="quiz__question">What is the maximum amount of packets that one response can be composed of?</div>
        <div id="answers_9c0484a0-12a1-4c76-8474-dc1ebc5ec027">
        
            <input type="radio" name="question" value="A"><label>A: 20 bytes</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: 256 bytes</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: There is no maximum size</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('9c0484a0-12a1-4c76-8474-dc1ebc5ec027', 'C')">Submit Answer</button>
    <div id="results_9c0484a0-12a1-4c76-8474-dc1ebc5ec027" style="display: none">
        <span id="correct_9c0484a0-12a1-4c76-8474-dc1ebc5ec027" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_9c0484a0-12a1-4c76-8474-dc1ebc5ec027" style="display: none"> Incorrect!! 😭 The correct answer is C.</span>
        There is no limit on the amount of packets that can comprise a response.
    </div>
</div>

<div id="quiz_09d300ff-3cae-48e7-b3fd-c76237590411" class="quiz">
    <div>
        <div id="question_09d300ff-3cae-48e7-b3fd-c76237590411" class="quiz__question">What is the maximum amount of packets that one response can be composed of?</div>
        <div id="answers_09d300ff-3cae-48e7-b3fd-c76237590411">
        
            <input type="radio" name="question" value="A"><label>A: Always 1 packet</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: Always multiple packets.</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: Always 1 packet except for complex responses.</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('09d300ff-3cae-48e7-b3fd-c76237590411', 'C')">Submit Answer</button>
    <div id="results_09d300ff-3cae-48e7-b3fd-c76237590411" style="display: none">
        <span id="correct_09d300ff-3cae-48e7-b3fd-c76237590411" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_09d300ff-3cae-48e7-b3fd-c76237590411" style="display: none"> Incorrect!! 😭 The correct answer is C.</span>
        Command responses are almost always 1 packet (just returning the status).
    The exception are complex responses which can be multiple packets (in the case of Get Hardware
    Info)
    </div>
</div>

<div id="quiz_444e79e1-00e6-4052-b421-504d4ad4bec3" class="quiz">
    <div>
        <div id="question_444e79e1-00e6-4052-b421-504d4ad4bec3" class="quiz__question">How many packets are setting responses comprised of?</div>
        <div id="answers_444e79e1-00e6-4052-b421-504d4ad4bec3">
        
            <input type="radio" name="question" value="A"><label>A: Always 1 packet</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: Always multiple packets.</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: Always 1 packet except for complex responses.</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('444e79e1-00e6-4052-b421-504d4ad4bec3', 'A')">Submit Answer</button>
    <div id="results_444e79e1-00e6-4052-b421-504d4ad4bec3" style="display: none">
        <span id="correct_444e79e1-00e6-4052-b421-504d4ad4bec3" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_444e79e1-00e6-4052-b421-504d4ad4bec3" style="display: none"> Incorrect!! 😭 The correct answer is A.</span>
        Settings Responses only ever contain the command status. Furthermore, there
    is no concept of complex responses for setting commands.
    </div>
</div>

<h1 id="parsing-multiple-packet-tlv-responses">Parsing Multiple Packet TLV Responses</h1>

<p>This section will describe parsing TLV responses that contain more than one packet. It will first describe how
to accumulate such responses and then provide a parsing example. The example script that will be walked through
for this section is <code class="language-plaintext highlighter-rouge">ble_command_get_state.py</code>. We will be creating a small <em>Response</em> class that will be
re-used for future tutorials.</p>

<h2 id="accumulating-the-response">Accumulating the Response</h2>

<p>The first step is to accumulate the multiple packets into one response. Whereas for all tutorials until now, we
have just used the header bytes of the response as the length, we now must completely parse the header as it is
defined:</p>

<table border="1">
  <tbody>
    <tr>
        <td colspan="8">Byte 1</td>
        <td colspan="8">Byte 2 (optional)</td>
        <td colspan="8">Byte 3 (optional)</td>
    </tr>
    <tr>
        <td>7</td>
        <td>6</td>
        <td>5</td>
        <td>4</td>
        <td>3</td>
        <td>2</td>
        <td>1</td>
        <td>0</td>
        <td>7</td>
        <td>6</td>
        <td>5</td>
        <td>4</td>
        <td>3</td>
        <td>2</td>
        <td>1</td>
        <td>0</td>
        <td>7</td>
        <td>6</td>
        <td>5</td>
        <td>4</td>
        <td>3</td>
        <td>2</td>
        <td>1</td>
        <td>0</td>
    </tr>
    <tr>
        <td>0: Start</td>
        <td colspan="2">00: General</td>
        <td colspan="5">Message Length: 5 bits</td>
        <td colspan="16">
</td>
    </tr>
    <tr>
        <td>0: Start</td>
        <td colspan="2">01: Extended (13-bit)</td>
        <td colspan="13">Message Length: 13 bits</td>
        <td colspan="8">
</td>
    </tr>
    <tr>
        <td>0: Start</td>
        <td colspan="2">10: Extended (16-bit)</td>
        <td colspan="5">
</td>
        <td colspan="16">Message Length: 16 bits</td>
    </tr>
    <tr>
        <td>0: Start</td>
        <td colspan="2">11: Reserved</td>
        <td colspan="21">
</td>
    </tr>
    <tr>
        <td>1: Continuation</td>
        <td colspan="24">
</td>
    </tr>
  </tbody>
</table>

<p>The basic algorithm here (which is implemented in the <em>Message.accumulate</em> method) is as follows:</p>

<hr>

<div class="md_column">
<div>
    <p>Continuation bit set?</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">CONT_MASK</span><span class="p">:</span>
    <span class="n">buf</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="p">...</span>
</code></pre></div>    </div>

    <p>No, continuation bit was not set. So create new response, then get its length.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c1"># This is a new packet so start with an empty byte array
</span><span class="bp">self</span><span class="p">.</span><span class="nb">bytes</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
<span class="n">hdr</span> <span class="o">=</span> <span class="n">Header</span><span class="p">((</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">HDR_MASK</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">if</span> <span class="n">hdr</span> <span class="ow">is</span> <span class="n">Header</span><span class="p">.</span><span class="n">GENERAL</span><span class="p">:</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">bytes_remaining</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">GEN_LEN_MASK</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="k">elif</span> <span class="n">hdr</span> <span class="ow">is</span> <span class="n">Header</span><span class="p">.</span><span class="n">EXT_13</span><span class="p">:</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">bytes_remaining</span> <span class="o">=</span> <span class="p">((</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">EXT_13_BYTE0_MASK</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">buf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="k">elif</span> <span class="n">hdr</span> <span class="ow">is</span> <span class="n">Header</span><span class="p">.</span><span class="n">EXT_16</span><span class="p">:</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">bytes_remaining</span> <span class="o">=</span> <span class="p">(</span><span class="n">buf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">buf</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
</code></pre></div>    </div>

    <p>Append current packet to response and decrement bytes remaining.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c1"># Append payload to buffer and update remaining / complete
</span><span class="bp">self</span><span class="p">.</span><span class="nb">bytes</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">bytes_remaining</span> <span class="o">-=</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>In the notification handler, we are then parsing if there are no bytes remaining.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">is_received</span><span class="p">:</span>
        <span class="n">response</span><span class="p">.</span><span class="n">parse</span><span class="p">()</span>
</code></pre></div>    </div>

  </div>

<div style="60%">
    <p><br><br><br></p>
    <svg class="mermaid" viewbox="0 0 428.01171875 966.8843994140625" style="max-width: 428.01171875px;" aria-labelledby="chart-title-mermaid-svg chart-desc-mermaid-svg" role="img" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg"><title id="chart-title-mermaid-svg"></title>
<desc id="chart-desc-mermaid-svg"></desc><style>#mermaid-svg {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><g class="output"><g class="clusters"></g><g class="edgePaths"><g style="opacity: 1;" id="L-A-C" class="edgePath LS-A LE-C"><path style="fill:none" marker-end="url(#arrowhead52)" d="M267.82597436797755,47L258.8152650983146,51.166666666666664C249.8045558286517,55.333333333333336,231.78313728932585,63.666666666666664,222.85576135299627,72.08333333333333C213.92838541666666,80.5,214.09505208333334,89,214.17838541666666,93.25L214.26171875,97.5" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead52"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-C-D" class="edgePath LS-C LE-D"><path style="fill:none" marker-end="url(#arrowhead53)" d="M178.2267108608652,248.4962421108652L170.77356113405435,260.168743425721C163.32041140724348,271.84124474057677,148.41411195362173,295.1862473702884,140.96096222681086,312.60874868514423C133.5078125,330.03125,133.5078125,341.53125,133.5078125,347.28125L133.5078125,353.03125" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead53"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-D-I" class="edgePath LS-D LE-I"><path style="fill:none" marker-end="url(#arrowhead54)" d="M133.5078125,392.03125L133.5078125,397.78125C133.5078125,403.53125,133.5078125,415.03125,133.5078125,426.53125C133.5078125,438.03125,133.5078125,449.53125,133.5078125,455.28125L133.5078125,461.03125" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead54"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-I-E" class="edgePath LS-I LE-E"><path style="fill:none" marker-end="url(#arrowhead55)" d="M133.5078125,500.03125L133.5078125,504.1979166666667C133.5078125,508.3645833333333,133.5078125,516.6979166666666,141.02222319756552,525.03125C148.53663389513108,533.3645833333334,163.56545529026218,541.6979166666666,171.0798659878277,545.8645833333334L178.59427668539325,550.03125" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead55"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-C-E" class="edgePath LS-C LE-E"><path style="fill:none" marker-end="url(#arrowhead56)" d="M250.2967266391348,248.4962421108652L257.583209699279,260.168743425721C264.86969275942323,271.84124474057677,279.4426588797116,295.1862473702884,286.72914193985577,315.85874868514423C294.015625,336.53125,294.015625,354.53125,294.015625,372.53125C294.015625,390.53125,294.015625,408.53125,294.015625,426.53125C294.015625,444.53125,294.015625,462.53125,294.015625,478.9479166666667C294.015625,495.3645833333333,294.015625,510.1979166666667,286.50121430243445,521.78125C278.98680360486895,533.3645833333334,263.95798220973785,541.6979166666666,256.4435715121723,545.8645833333334L248.92916081460675,550.03125" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead56"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-E-F" class="edgePath LS-E LE-F"><path style="fill:none" marker-end="url(#arrowhead57)" d="M213.76171875,589.03125L213.76171875,594.78125C213.76171875,600.53125,213.76171875,612.03125,223.07576274916104,630.4229356761319C232.38980674832203,648.814621352264,251.01789474664406,674.0979927045279,260.3319387458051,686.7396783806598L269.6459827449661,699.3813640567918" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead57"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-F-G" class="edgePath LS-F LE-G"><path style="fill:none" marker-end="url(#arrowhead58)" d="M310.49609375,851.3843719482423L310.4127604166667,857.0510381062827C310.3294270833333,862.7177042643231,310.1627604166667,874.0510365804038,310.0794270833333,885.467702738444C309.99609375,896.8843688964844,309.99609375,908.3843688964844,309.99609375,914.1343688964844L309.99609375,919.8843688964844" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead58"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-F-A" class="edgePath LS-F LE-A"><path style="fill:none" marker-end="url(#arrowhead59)" d="M352.3981949594607,700.4333481577027L362.1007093412172,687.6163317980855C371.80322372297377,674.7993154384684,391.20825248648686,649.1652827192343,400.91076686824346,627.3482663596171C410.61328125,605.53125,410.61328125,587.53125,410.61328125,571.1145833333334C410.61328125,554.6979166666666,410.61328125,539.8645833333334,410.61328125,525.03125C410.61328125,510.1979166666667,410.61328125,495.3645833333333,410.61328125,478.9479166666667C410.61328125,462.53125,410.61328125,444.53125,410.61328125,426.53125C410.61328125,408.53125,410.61328125,390.53125,410.61328125,372.53125C410.61328125,354.53125,410.61328125,336.53125,410.61328125,306.1953125C410.61328125,275.859375,410.61328125,233.1875,410.61328125,192.09895833333334C410.61328125,151.01041666666666,410.61328125,111.50520833333333,401.19219627808985,87.5859375C391.77111130617976,63.666666666666664,372.9289413623596,55.333333333333336,363.50785639044943,51.166666666666664L354.08677141853934,47" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead59"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g></g><g class="edgeLabels"><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-A' L-LE-C" id="L-L-A-C"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(133.5078125,318.53125)" class="edgeLabel"><g class="label" transform="translate(-9.3984375,-9.5)"><rect height="19" width="18.796875" ry="0" rx="0"></rect><foreignobject height="19" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-C' L-LE-D" id="L-L-C-D">No</span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-D' L-LE-I" id="L-L-D-I"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-I' L-LE-E" id="L-L-I-E"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(294.015625,426.53125)" class="edgeLabel"><g class="label" transform="translate(-11.328125,-9.5)"><rect height="19" width="22.65625" ry="0" rx="0"></rect><foreignobject height="19" width="22.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-C' L-LE-E" id="L-L-C-E">Yes</span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(213.76171875,623.53125)" class="edgeLabel"><g class="label" transform="translate(-98.8828125,-9.5)"><rect height="19" width="197.765625" ry="0" rx="0"></rect><foreignobject height="19" width="197.765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-E' L-LE-F" id="L-L-E-F">Decrement bytes remaining</span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(309.99609375,885.3843688964844)" class="edgeLabel"><g class="label" transform="translate(-11.328125,-9.5)"><rect height="19" width="22.65625" ry="0" rx="0"></rect><foreignobject height="19" width="22.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-F' L-LE-G" id="L-L-F-G">Yes</span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(410.61328125,426.53125)" class="edgeLabel"><g class="label" transform="translate(-9.3984375,-9.5)"><rect height="19" width="18.796875" ry="0" rx="0"></rect><foreignobject height="19" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-F' L-LE-A" id="L-L-F-A">No</span></div></foreignobject></g></g></g><g class="nodes"><g style="opacity: 1;" transform="translate(309.99609375,27.5)" id="flowchart-A-32" class="node default"><rect class="label-container" height="39" width="175.953125" y="-19.5" x="-87.9765625" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-77.9765625,-9.5)"><foreignobject height="19" width="155.953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Read Available Packet</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(213.76171875,190.515625)" id="flowchart-C-33" class="node default"><polygon class="label-container" transform="translate(-93.515625,93.515625)" points="93.515625,0 187.03125,-93.515625 93.515625,-187.03125 0,-93.515625"></polygon><g transform="translate(0,0)" class="label"><g transform="translate(-74.40625,-9.5)"><foreignobject height="19" width="148.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Continuation bit set?</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(133.5078125,372.53125)" id="flowchart-D-35" class="node default"><rect class="label-container" height="39" width="219.859375" y="-19.5" x="-109.9296875" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-99.9296875,-9.5)"><foreignobject height="19" width="199.859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Create new empty response</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(133.5078125,480.53125)" id="flowchart-I-37" class="node default"><rect class="label-container" height="39" width="251.015625" y="-19.5" x="-125.5078125" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-115.5078125,-9.5)"><foreignobject height="19" width="231.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Get bytes remaining, i.e. length</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(213.76171875,569.53125)" id="flowchart-E-39" class="node default"><rect class="label-container" height="39" width="314.9375" y="-19.5" x="-157.46875" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-147.46875,-9.5)"><foreignobject height="19" width="294.9375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Append packet to accumulating response</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(309.99609375,754.4578094482422)" id="flowchart-F-43" class="node default"><polygon class="label-container" transform="translate(-96.4265625,96.4265625)" points="96.4265625,0 192.853125,-96.4265625 96.4265625,-192.853125 0,-96.4265625"></polygon><g transform="translate(0,0)" class="label"><g transform="translate(-77.640625,-9.5)"><foreignobject height="19" width="155.28125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Bytes remaining == 0?</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(309.99609375,939.3843688964844)" id="flowchart-G-45" class="node default"><rect class="label-container" height="39" width="179.359375" y="-19.5" x="-89.6796875" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-79.6796875,-9.5)"><foreignobject height="19" width="159.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Parse Received Packet</div></foreignobject></g></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css");</style></svg>
  </div>
</div>

<hr>

<p>We can see this in action when we send the <em>Get All Setting Values</em> Query.</p>

<div class="callout note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db; margin: 0.25em;"></i><span>Queries aren’t introduced until the next tutorial so for now, just pay attention to the response.</span>
</div>

<p>We send the command as such:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">QUERY_REQ_UUID</span> <span class="o">=</span> <span class="n">GOPRO_BASE_UUID</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="s">"0076"</span><span class="p">)</span>
<span class="n">event</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
<span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">write_gatt_char</span><span class="p">(</span><span class="n">QUERY_REQ_UUID</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">]))</span>
<span class="k">await</span> <span class="n">event</span><span class="p">.</span><span class="n">wait</span><span class="p">()</span>  <span class="c1"># Wait to receive the notification response
</span></code></pre></div></div>

<p>Then, in the notification handler, we continuously receive and accumulate packets until we have
received the entire response, at which point we notify the writer that the response is ready:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">notification_handler</span><span class="p">(</span><span class="n">handle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">response</span><span class="p">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">is_received</span><span class="p">:</span>
            <span class="n">response</span><span class="p">.</span><span class="n">parse</span><span class="p">()</span>

            <span class="c1"># Notify writer that procedure is complete
</span>            <span class="n">event</span><span class="p">.</span><span class="nb">set</span><span class="p">()</span>
</code></pre></div></div>

<div class="callout note">
<i class="fa fa-clipboard fa-2x" style="color: #3498db; margin: 0.25em;"></i><span>We also first parse the response but that will be described in the next section.</span>
</div>

<p>We can see the individual packets being accumulated in the log:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:Getting the camera's settings...
INFO:root:Received response at handle=62: b'21:25:12:00:02:01:09:03:01:01:05:0
INFO:root:self.bytes_remaining=275
INFO:root:Received response at handle=62: b'80:01:00:18:01:00:1e:04:00:00:00:0
INFO:root:self.bytes_remaining=256
INFO:root:Received response at handle=62: b'81:0a:25:01:00:29:01:09:2a:01:05:2
INFO:root:self.bytes_remaining=237
INFO:root:Received response at handle=62: b'82:2f:01:04:30:01:03:36:01:00:3b:0
INFO:root:self.bytes_remaining=218
INFO:root:Received response at handle=62: b'83:04:00:00:00:00:3e:04:00:00:00:0
INFO:root:self.bytes_remaining=199
INFO:root:Received response at handle=62: b'84:00:42:04:00:00:00:00:43:04:00:0
INFO:root:self.bytes_remaining=180
INFO:root:Received response at handle=62: b'85:4f:01:00:53:01:00:54:01:00:55:0
INFO:root:self.bytes_remaining=161
INFO:root:Received response at handle=62: b'86:01:28:5b:01:02:60:01:00:66:01:0
INFO:root:self.bytes_remaining=142
INFO:root:Received response at handle=62: b'87:00:6a:01:00:6f:01:0a:70:01:ff:7
INFO:root:self.bytes_remaining=123
INFO:root:Received response at handle=62: b'88:75:01:00:76:01:04:79:01:00:7a:0
INFO:root:self.bytes_remaining=104
INFO:root:Received response at handle=62: b'89:01:00:7e:01:00:80:01:0c:81:01:0
INFO:root:self.bytes_remaining=85
INFO:root:Received response at handle=62: b'8a:0c:85:01:09:86:01:00:87:01:01:8
INFO:root:self.bytes_remaining=66
INFO:root:Received response at handle=62: b'8b:92:01:00:93:01:00:94:01:02:95:0
INFO:root:self.bytes_remaining=47
INFO:root:Received response at handle=62: b'8c:01:00:9c:01:00:9d:01:00:9e:01:0
INFO:root:self.bytes_remaining=28
INFO:root:Received response at handle=62: b'8d:00:a2:01:00:a3:01:01:a4:01:00:a
INFO:root:self.bytes_remaining=9
INFO:root:Received response at handle=62: b'8e:a8:04:00:00:00:00:a9:01:01'
INFO:root:self.bytes_remaining=0
INFO:root:Successfully received the response
</span></code></pre></div></div>

<p>At this point the response has been accumulated. See the next section for how to parse it.</p>

<p><strong>Quiz time! 📚 ✏️</strong></p>

<div id="quiz_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069" class="quiz">
    <div>
        <div id="question_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069" class="quiz__question">How can we know that a response has been completely received?</div>
        <div id="answers_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069">
        
            <input type="radio" name="question" value="A"><label>A: The stop bit will be set in the header</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: The response has accumulated length bytes</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: By checking for the end of frame (EOF) sentinel character</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('dc5e0880-f4d0-4a0a-b61d-1a51b11b3069', 'B')">Submit Answer</button>
    <div id="results_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069" style="display: none">
        <span id="correct_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_dc5e0880-f4d0-4a0a-b61d-1a51b11b3069" style="display: none"> Incorrect!! 😭 The correct answer is B.</span>
        The length of the entire response is parsed from the first packet. We
        then accumulate packets, keeping track of the received length, until all of the bytes
        have been received. A and C are just made up 😜.
    </div>
</div>

<h2 id="query-responses">Query Responses</h2>

<p>This section is going to describe responses to to BLE status / setting queries. We don’t actually
introduce such queries until <a href="/OpenGoPro/tutorials/python/ble-queries">the next tutorial</a> so
for now, only the parsing of the response is important.</p>

<div class="callout tip">
<i class="fa fa-tools fa-2x" style="color: #ebc21c; margin: 0.25em;"></i><span>While multi-packet responses are almost always Query Responses, they can also be from Command Complex <br>
responses. In a real-world implementation, it is therefore necessary to check the received UUID to see
how to parse.</span>
</div>

<p>Query Responses contain one or more TLV groups in their Response data. To recap, the generic response format is:</p>

<table>
  <thead>
    <tr>
      <th>Header (length)</th>
      <th>Query ID</th>
      <th>Status</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1-2 bytes</td>
      <td>1 byte</td>
      <td>1 bytes</td>
      <td>Length - 2 bytes</td>
    </tr>
  </tbody>
</table>

<p>This means that query responses will contain an array of additional TLV groups in the “Response” field as such:</p>

<table>
  <thead>
    <tr>
      <th>ID1</th>
      <th>Length1</th>
      <th>Value1</th>
      <th>ID2</th>
      <th>Length2</th>
      <th>Value 2</th>
      <th>…</th>
      <th>IDN</th>
      <th>LengthN</th>
      <th>ValueN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>Length1 bytes</td>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>Length2 bytes</td>
      <td>…</td>
      <td>1 byte</td>
      <td>1 byte</td>
      <td>LengthN bytes</td>
    </tr>
  </tbody>
</table>

<p>Depending on the amount of query results in the response, this response can be one or multiple packets.
Therefore, we need to account for the possibility that it may always be more than 1 packet.</p>

<p>We can see an example of such parsing in the <strong>Response.parse</strong> method:</p>

<hr>

<div class="md_column">
<div>

    <p>We have already parsed the length when we were accumulating the packet. So the next step is to parse the Query
ID and Status:</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="bp">self</span><span class="p">.</span><span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="nb">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="bp">self</span><span class="p">.</span><span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="nb">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>    </div>

    <p>We then continuously parse <strong>Type (ID) - Length - Value</strong> groups until we have consumed the response. We are
storing each value in a dict indexed by ID for later access.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="n">buf</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="nb">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c1"># Get ID and Length
</span>    <span class="n">param_id</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">param_len</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="c1"># Get the value
</span>    <span class="n">value</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[:</span><span class="n">param_len</span><span class="p">]</span>

    <span class="c1"># Store in dict for later access
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">param_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># Advance the buffer
</span>    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="n">param_len</span><span class="p">:]</span>
</code></pre></div>    </div>

  </div>
<div style="flex:60%">

    <p><br><br><br></p>

    <svg class="mermaid" viewbox="0 0 281.7109375 602.9906005859375" style="max-width: 281.7109375px;" aria-labelledby="chart-title-mermaid-svg chart-desc-mermaid-svg" role="img" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg"><title id="chart-title-mermaid-svg"></title>
<desc id="chart-desc-mermaid-svg"></desc><style>#mermaid-svg {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><g class="output"><g class="clusters"></g><g class="edgePaths"><g style="opacity: 1;" id="L-A-B" class="edgePath LS-A LE-B"><path style="fill:none" marker-end="url(#arrowhead36)" d="M211.2265625,47L211.2265625,51.166666666666664C211.2265625,55.333333333333336,211.2265625,63.666666666666664,211.2265625,72C211.2265625,80.33333333333333,211.2265625,88.66666666666667,211.2265625,92.83333333333333L211.2265625,97" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead36"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-B-C" class="edgePath LS-B LE-C"><path style="fill:none" marker-end="url(#arrowhead37)" d="M211.2265625,136L211.2265625,140.16666666666666C211.2265625,144.33333333333334,211.2265625,152.66666666666666,211.30989583333334,161.0833334604899C211.39322916666666,169.50000025431316,211.55989583333334,178.00000050862636,211.64322916666666,182.25000063578295L211.7265625,186.50000076293955" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead37"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-C-D" class="edgePath LS-C LE-D"><path style="fill:none" marker-end="url(#arrowhead38)" d="M176.15170319738996,273.9157649344505L160.03917974782496,285.5115746910623C143.92665629825999,297.10738444767406,111.70160939912999,320.29900396089755,95.58908594956499,337.64481371750935C79.4765625,354.9906234741211,79.4765625,366.4906234741211,79.4765625,372.2406234741211L79.4765625,377.9906234741211" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead38"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-D-E" class="edgePath LS-D LE-E"><path style="fill:none" marker-end="url(#arrowhead39)" d="M79.4765625,416.9906234741211L79.4765625,421.1572901407878C79.4765625,425.3239568074544,79.4765625,433.6572901407878,79.4765625,441.9906234741211C79.4765625,450.3239568074544,79.4765625,458.6572901407878,79.4765625,462.8239568074544L79.4765625,466.9906234741211" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead39"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-E-F" class="edgePath LS-E LE-F"><path style="fill:none" marker-end="url(#arrowhead40)" d="M79.4765625,505.9906234741211L79.4765625,510.1572901407878C79.4765625,514.3239568074545,79.4765625,522.6572901407877,88.56993211610488,530.9906234741211C97.66330173220975,539.3239568074545,115.85004096441948,547.6572901407877,124.94341058052436,551.8239568074545L134.03678019662922,555.9906234741211" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead40"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-F-C" class="edgePath LS-F LE-C"><path style="fill:none" marker-end="url(#arrowhead41)" d="M219.15071980337078,555.9906234741211L228.24408941947567,551.8239568074545C237.3374590355805,547.6572901407877,255.52419826779024,539.3239568074545,264.6175678838951,527.7406234741211C273.7109375,516.1572901407877,273.7109375,501.3239568074544,273.7109375,486.4906234741211C273.7109375,471.6572901407878,273.7109375,456.8239568074544,273.7109375,441.9906234741211C273.7109375,427.1572901407878,273.7109375,412.3239568074544,273.7109375,395.9072901407878C273.7109375,379.4906234741211,273.7109375,361.4906234741211,267.4212059962399,342.7829595260176C261.1314744924798,324.075295577914,248.55201148495962,304.659967681707,242.26227998119953,294.9523037336034L235.97254847743946,285.2446397854999" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead41"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g><g style="opacity: 1;" id="L-C-G" class="edgePath LS-C LE-G"><path style="fill:none" marker-end="url(#arrowhead42)" d="M211.7265625,309.49062423706056L211.64322916666666,315.1572907765706C211.55989583333334,320.82395731608074,211.39322916666666,332.1572903951009,211.30989583333334,343.57395693461103C211.2265625,354.9906234741211,211.2265625,366.4906234741211,211.2265625,372.2406234741211L211.2265625,377.9906234741211" class="path"></path><defs><marker orient="auto" markerheight="6" markerwidth="8" markerunits="strokeWidth" refy="5" refx="9" viewbox="0 0 10 10" id="arrowhead42"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs></g></g><g class="edgeLabels"><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-A' L-LE-B" id="L-L-A-B"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-B' L-LE-C" id="L-L-B-C"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(79.4765625,343.4906234741211)" class="edgeLabel"><g class="label" transform="translate(-11.546875,-9.5)"><rect height="19" width="23.09375" ry="0" rx="0"></rect><foreignobject height="19" width="23.09375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-C' L-LE-D" id="L-L-C-D">yes</span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-D' L-LE-E" id="L-L-D-E"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-E' L-LE-F" id="L-L-E-F"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect height="0" width="0" ry="0" rx="0"></rect><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-F' L-LE-C" id="L-L-F-C"></span></div></foreignobject></g></g><g style="opacity: 1;" transform="translate(211.2265625,343.4906234741211)" class="edgeLabel"><g class="label" transform="translate(-8.6640625,-9.5)"><rect height="19" width="17.328125" ry="0" rx="0"></rect><foreignobject height="19" width="17.328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span style="" class="edgeLabel L-LS-C' L-LE-G" id="L-L-C-G">no</span></div></foreignobject></g></g></g><g class="nodes"><g style="opacity: 1;" transform="translate(211.2265625,27.5)" id="flowchart-A-28" class="node default"><rect class="label-container" height="39" width="124.296875" y="-19.5" x="-62.1484375" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-52.1484375,-9.5)"><foreignobject height="19" width="104.296875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Parse Query ID</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(211.2265625,116.5)" id="flowchart-B-29" class="node default"><rect class="label-container" height="39" width="106.828125" y="-19.5" x="-53.4140625" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-43.4140625,-9.5)"><foreignobject height="19" width="86.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Parse Status</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(211.2265625,247.49531173706055)" id="flowchart-C-31" class="node default"><polygon class="label-container" transform="translate(-61.495312500000004,61.495312500000004)" points="61.495312500000004,0 122.99062500000001,-61.495312500000004 61.495312500000004,-122.99062500000001 0,-61.495312500000004"></polygon><g transform="translate(0,0)" class="label"><g transform="translate(-38.828125,-9.5)"><foreignobject height="19" width="77.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">More data?</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(79.4765625,397.4906234741211)" id="flowchart-D-33" class="node default"><rect class="label-container" height="39" width="108.53125" y="-19.5" x="-54.265625" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-44.265625,-9.5)"><foreignobject height="19" width="88.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Get Value ID</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(79.4765625,486.4906234741211)" id="flowchart-E-35" class="node default"><rect class="label-container" height="39" width="142.953125" y="-19.5" x="-71.4765625" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-61.4765625,-9.5)"><foreignobject height="19" width="122.953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Get Value Length</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(176.59375,575.4906234741211)" id="flowchart-F-37" class="node default"><rect class="label-container" height="39" width="89.453125" y="-19.5" x="-44.7265625" ry="0" rx="0"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-34.7265625,-9.5)"><foreignobject height="19" width="69.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">Get Value</div></foreignobject></g></g></g><g style="opacity: 1;" transform="translate(211.2265625,397.4906234741211)" id="flowchart-G-41" class="node default"><rect class="label-container" height="39" width="54.96875" y="-19.5" x="-27.484375" ry="5" rx="5"></rect><g transform="translate(0,0)" class="label"><g transform="translate(-17.484375,-9.5)"><foreignobject height="19" width="34.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml">done</div></foreignobject></g></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css");</style></svg>

  </div>
</div>

<hr>

<p>In the demo, we then log this entire dict after parsing is complete as such (abbreviated for brevity):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">INFO:root:Received settings
: {
    "2": "09",
    "3": "01",
    "5": "00",
    "6": "01",
    "13": "01",
    "19": "00",
    "30": "00:00:00:00",
    "31": "00",
    "32": "00:00:00:0a",
    "41": "09",
    "42": "05",
    "43": "00",
</span><span class="c">    ...
</span><span class="go">    "153": "00",
    "154": "01",
    "155": "00",
    "156": "00",
    "157": "00",
    "158": "01",
    "159": "00",
    "160": "00",
    "161": "00",
    "162": "00",
    "163": "01",
    "164": "00",
    "165": "00",
    "166": "00",
    "167": "04",
    "168": "00:00:00:00",
    "169": "01"
}
</span></code></pre></div></div>

<p>We can see what each of these values mean by looking at the
<a href="/OpenGoPro/ble_2_0#settings-quick-reference">Open GoPro Interface</a>.</p>

<p>For example:</p>

<ul>
  <li>ID 2 == 9 equates to Resolution == 1080</li>
  <li>ID 3 == 1 equates to FPS == 120</li>
</ul>

<div id="quiz_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2" class="quiz">
    <div>
        <div id="question_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2" class="quiz__question">How many packets are query responses?</div>
        <div id="answers_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2">
        
            <input type="radio" name="question" value="A"><label>A: Always 1 packet</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: Always multiple packets</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: Always 1 packet except for complex responses</label>
            <br>
        
            <input type="radio" name="question" value="D"><label>D: Can be 1 or multiple packets</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('c2615757-ce96-47d6-aad3-0fa4c6c8d2b2', 'D')">Submit Answer</button>
    <div id="results_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2" style="display: none">
        <span id="correct_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_c2615757-ce96-47d6-aad3-0fa4c6c8d2b2" style="display: none"> Incorrect!! 😭 The correct answer is D.</span>
        Query responses can be one packet (if for example querying a specific
setting) or multiple packets (when querying many or all settings as in the example here).
See the next tutorial for more information on queries.
    </div>
</div>

<div id="quiz_24bd25dd-5f69-4970-98e5-d712c3a9c919" class="quiz">
    <div>
        <div id="question_24bd25dd-5f69-4970-98e5-d712c3a9c919" class="quiz__question">Which field is not common to all responses?</div>
        <div id="answers_24bd25dd-5f69-4970-98e5-d712c3a9c919">
        
            <input type="radio" name="question" value="A"><label>A: length</label>
            <br>
        
            <input type="radio" name="question" value="B"><label>B: status</label>
            <br>
        
            <input type="radio" name="question" value="C"><label>C: ID</label>
            <br>
        
            <input type="radio" name="question" value="D"><label>D: None of the Above</label>
            <br>
        
        </div>
    </div>
    <button onclick="showResults('24bd25dd-5f69-4970-98e5-d712c3a9c919', 'D')">Submit Answer</button>
    <div id="results_24bd25dd-5f69-4970-98e5-d712c3a9c919" style="display: none">
        <span id="correct_24bd25dd-5f69-4970-98e5-d712c3a9c919" style="display: none">  Correct!! 😃</span>
        <span id="incorrect_24bd25dd-5f69-4970-98e5-d712c3a9c919" style="display: none"> Incorrect!! 😭 The correct answer is D.</span>
        Query responses can be one packet (if for example querying a specific
setting) or multiple packets (when querying many or all settings as in the example here).
See the next tutorial for more information on queries.
    </div>
</div>

<h1 id="troubleshooting">Troubleshooting</h1>

<p>See the first tutorial’s
<a href="/OpenGoPro/tutorials/python/connect-ble#troubleshooting">troubleshooting section</a>.</p>

<h1 id="good-job">Good Job!</h1>

<div class="callout success">
<i class="fa fa-check-circle fa-2x" style="color: #2dcb71; margin: 0.25em;"></i><span>Congratulations 🤙</span>
</div>

<p>You can now parse any TLV response that is received from the GoPro, at least if it is received uninterrupted.
There is additional logic required for a complete solution such as checking the UUID the response is received
on and storing a dict of response per UUID. At the current time, this endeavor is left for the reader. For a
complete example of this, see the <a href="https://gopro.github.io/OpenGoPro/python_sdk/">Open GoPro Python SDK</a>.</p>

<p>To learn more about queries, go to the next tutorial.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2022-12-17T00:15:56+00:00">December 17, 2022</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/OpenGoPro/tutorials/python/send-ble-commands" class="pagination--pager" title="Python Tutorial 2: Send BLE Commands
">Previous</a>
    
    
      <a href="/OpenGoPro/tutorials/python/ble-queries" class="pagination--pager" title="Python Tutorial 4: BLE Queries
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
           
        <li>
            <a href="https://www.gopro.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i>
                Website</a>
        </li>
          
        <li>
            <a href="https://twitter.com/GoPro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i>
                Twitter</a>
        </li>
          
        <li>
            <a href="https://www.facebook.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i>
                Facebook</a>
        </li>
          
        <li>
            <a href="https://github.com/gopro" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i>
                GitHub</a>
        </li>
          
        <li>
            <a href="https://www.instagram.com/gopro/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i>
                Instagram</a>
        </li>
           
    </ul>
</div>

<div class="page__footer-copyright">
    © 2022 GoPro. Powered by
    <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
    <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
    <p>
        Can be used with GoPro® HERO9 and HERO10 cameras. You must include the following text on
        every page where it can be seen by someone purchasing such an item: <em>"This product
        and/or service is not affiliated with, endorsed by or in any way associated with
        GoPro Inc. or its products and services. GoPro, HERO, and their respective logos
        are trademarks or registered trademarks of GoPro, Inc."</em>
    </p>
</div>

      </footer>
    </div>

    
  <script src="/OpenGoPro/assets/js/main.min.js"></script>




<script src="/OpenGoPro/assets/js/lunr/lunr.min.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-store.js"></script>
<script src="/OpenGoPro/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
